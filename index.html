<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>UNREGISTERED TEKU SLATE · BRYCE</title>
<style>
  :root{
    --bg:#262626;
    --fg:#ffcc00;
    --glow:#EBFA7A;
    --dim:rgba(255,204,0,0.25);
    --dim2:rgba(235,250,122,0.12);
    --winbg:rgba(12,12,12,0.22);
  }
  html,body{margin:0;background:var(--bg);color:var(--fg);font-family:monospace;font-weight:800;letter-spacing:.05em;overflow-x:hidden}
  .crt{position:relative;min-height:100vh;overflow:hidden;animation:crtFlicker .15s infinite}
  .crt::before{
    content:"";position:absolute;inset:0;pointer-events:none;
    background:repeating-linear-gradient(to bottom, rgba(255,255,255,.03) 0px, rgba(255,255,255,.03) 1px, rgba(0,0,0,0) 2px);
    opacity:.25;mix-blend-mode:overlay;
  }
  .crt::after{
    content:"";position:absolute;inset:0;pointer-events:none;
    background:radial-gradient(circle at center, rgba(255,255,255,.05) 0%, rgba(0,0,0,.85) 100%);
    opacity:.35;
  }
  @keyframes crtFlicker{0%{opacity:.96}50%{opacity:1}100%{opacity:.97}}

  .wrap{max-width:900px;margin:0 auto;padding:18px 14px 80px}
  .teku-header{font-size:.85em;font-weight:900;letter-spacing:.22em;opacity:.85}
  .divider{border:none;border-bottom:1px solid var(--fg);opacity:.28;margin:10px 0 14px}

  .small{font-size:.92em;opacity:.75;line-height:1.25}
  .micro{font-size:.68em;opacity:.70;letter-spacing:.08em;line-height:1.2}
  .typeout{
    display:block;overflow:hidden;white-space:nowrap;height:1.4em;
    width:min(34ch,100%);font-size:1.05em;font-weight:700;
    text-shadow:0 0 4px var(--glow);
    animation:typing 6s steps(60,end) infinite;
  }
  .typeout::after{content:"▉";margin-left:4px;text-shadow:0 0 4px var(--glow);animation:cursorBlink .8s step-end infinite}
  @keyframes typing{0%{width:0;opacity:1}40%{width:100%;opacity:1}90%{width:100%;opacity:1}100%{width:100%;opacity:0}}
  @keyframes cursorBlink{0%,50%{opacity:1}50%,100%{opacity:0}}

  /* “slate desktop” */
  .desk{
    margin-top:14px;
    display:grid;
    grid-template-columns: 1fr;
    gap:10px;
  }
  @media (min-width:720px){
    .desk{grid-template-columns: 1fr 1fr}
  }

  .win{
    border:1px solid var(--dim);
    background:var(--winbg);
    box-shadow:0 0 3px rgba(235,250,122,0.20);
    position:relative;
    overflow:hidden;
  }
  .bar{
    display:flex;justify-content:space-between;align-items:baseline;gap:10px;
    padding:8px 10px 6px;
    border-bottom:1px solid rgba(255,204,0,0.18);
    background:linear-gradient(to bottom, rgba(255,204,0,0.05), rgba(0,0,0,0));
    user-select:none;
  }
  .title{
    font-weight:1000;letter-spacing:.14em;font-size:.88em;opacity:.92;
    text-shadow:0 0 3px rgba(235,250,122,0.20);
  }
  .meta{font-size:.78em;opacity:.70;letter-spacing:.10em}
  .body{padding:10px}
  .pad{height:8px}

  /* plot styling */
  svg{width:100%;height:auto;display:block}
  .axis{stroke:rgba(255,204,0,0.35);stroke-width:1}
  .grid{stroke:rgba(255,204,0,0.12);stroke-width:1}
  .curve{fill:none;stroke:var(--fg);stroke-width:2;stroke-linecap:round;stroke-linejoin:round}
  .glow{filter:url(#tekugl)}

  .read{
    margin-top:8px;
    padding:8px 10px;
    border-top:1px solid rgba(255,204,0,0.18);
    font-size:.82em;letter-spacing:.10em;opacity:.88;
  }
  .read .row{display:flex;justify-content:space-between;gap:10px;flex-wrap:wrap}
  .k{opacity:.78}
  .v{font-weight:1000}

  .placeholder{
    border:1px dashed rgba(255,204,0,0.22);
    padding:14px 12px;
    opacity:.80;
    line-height:1.25;
  }

  .warn{
    margin-top:14px;
    border-left:3px solid rgba(255,204,0,0.45);
    padding-left:10px;
    font-size:.92em;
    opacity:.82;
  }

  /* mobile tighten */
  @media (max-width:600px){
    body{font-size:10px}
    .wrap{padding:16px 12px 70px}
    .title{font-size:.92em}
  }
</style>
</head>
<body>
<div class="crt">
  <div class="wrap">
    <div class="teku-header">UNREGISTERED TEKU SLATE</div>
    <hr class="divider">

    <div class="small">
      FILE: <b>BRYCE_CALLUM.FM</b> · LOCATION: <b>MARS-9</b> · STATUS: <b>TERMINATED</b><br>
      SESSION: <b>CAS_SCOMPASS//LISTEN</b> · NOTES: <i>“terrifying fucking wailing”</i>
    </div>

    <div class="pad"></div>

    <div class="micro">
      ░░██╗███╗░░██╗████████╗███████╗██████╗░░░░░░██╗░░░██╗██╗██╗░░░░░<br>
      ░░██║████╗░██║╚══██╔══╝██╔════╝██╔══██╗░░░░░██║░░░██║██║██║░░░░░<br>
      ░░██║██╔██╗██║░░░██║░░░█████╗░░██████╔╝░░░░░██║░░░██║██║██║░░░░░<br>
      ░░██║██║╚████║░░░██║░░░██╔══╝░░██╔══██╗░░░░░╚██╗░██╔╝██║██║░░░░░<br>
      ░░██║██║░╚███║░░░██║░░░███████╗██║░░██║░░░░░░╚████╔╝░██║███████╗<br>
      ░░╚═╝╚═╝░░╚══╝░░░╚═╝░░░╚══════╝╚═╝░░╚═╝░░░░░░░╚═══╝░░╚═╝╚══════╝
    </div>

    <div class="pad"></div>
    <div class="typeout">▉ ▉ ▉ CHANNEL OPEN · SIGNAL ANOMALOUS</div>

    <div class="warn">
      <b>WARNING:</b> Telemetry windows out of sequence. Timestamp jitter detected.  
      Operator tags mention <b>“Cassini’s Compass”</b> and a <b>non-Novex chain of custody</b>.
    </div>

    <div class="pad"></div>

    <div class="desk">

      <!-- Window: animated spectrum -->
      <section class="win">
        <div class="bar">
          <div class="title">CASSINI COMPASS · Cℓ TRACE</div>
          <div class="meta">τ-SWEEP · LIVE FIT</div>
        </div>
        <div class="body">
          <svg viewBox="0 0 520 240" role="img" aria-label="CMB-like power spectrum animation">
            <defs>
              <filter id="tekugl" x="-0.6" y="-0.6" width="2.2" height="2.2" filterUnits="objectBoundingBox">
                <feDropShadow dx="0" dy="0" stdDeviation="0.9" flood-color="#EBFA7A" flood-opacity="0.22"/>
                <feDropShadow dx="0" dy="0" stdDeviation="1.6" flood-color="#ffcc00" flood-opacity="0.16"/>
              </filter>
            </defs>

            <!-- grid -->
            <rect x="14" y="14" width="492" height="202" fill="rgba(0,0,0,0.16)" stroke="rgba(255,204,0,0.25)"/>
            <g>
              <!-- vertical grid -->
              <line class="grid" x1="96" y1="14" x2="96" y2="216"/>
              <line class="grid" x1="178" y1="14" x2="178" y2="216"/>
              <line class="grid" x1="260" y1="14" x2="260" y2="216"/>
              <line class="grid" x1="342" y1="14" x2="342" y2="216"/>
              <line class="grid" x1="424" y1="14" x2="424" y2="216"/>
              <!-- horizontal grid -->
              <line class="grid" x1="14" y1="54" x2="506" y2="54"/>
              <line class="grid" x1="14" y1="94" x2="506" y2="94"/>
              <line class="grid" x1="14" y1="134" x2="506" y2="134"/>
              <line class="grid" x1="14" y1="174" x2="506" y2="174"/>
            </g>

            <!-- axes -->
            <line class="axis" x1="14" y1="216" x2="506" y2="216"/>
            <line class="axis" x1="14" y1="14" x2="14" y2="216"/>

            <!-- curve -->
            <path id="clPath" class="curve glow" d=""/>
          </svg>
        </div>
        <div class="read">
          <div class="row"><span class="k">PARAM</span><span class="v">τ = <span id="tauVal">0.07</span></span></div>
          <div class="row"><span class="k">MODE</span><span class="v">ACOUSTIC + DAMPING</span></div>
          <div class="row"><span class="k">NOTE</span><span class="v">SMALL-SCALE SUPPRESSION</span></div>
        </div>
      </section>

      <!-- Window: waveform placeholder -->
      <section class="win">
        <div class="bar">
          <div class="title">AUDIO/STRUCTURE · “WAIL” ENVELOPE</div>
          <div class="meta">PLACEHOLDER</div>
        </div>
        <div class="body">
          <div class="placeholder">
            DROP-IN SLOT: <b>wail_waveform.svg</b><br><br>
            (Replace this panel with your traced “nanite wail” waveform.)<br>
            Suggested: long horizontal strip, oscillatory, noisy, with occasional spikes.
          </div>
        </div>
      </section>

      <!-- Window: CMB SVG placeholder -->
      <section class="win">
        <div class="bar">
          <div class="title">SIGNATURE BANK · CMB MATCH</div>
          <div class="meta">PLACEHOLDER</div>
        </div>
        <div class="body">
          <div class="placeholder">
            DROP-IN SLOT: <b>cmb_trace_A.svg</b> / <b>cmb_trace_B.svg</b><br><br>
            Put your “Cassini’s Compass” templates here once you generate them.<br>
            The animated panel at left is a <i>synthetic</i> τ-sweep version.
          </div>
        </div>
      </section>

      <!-- Window: log text -->
      <section class="win">
        <div class="bar">
          <div class="title">OPERATOR NOTES · BRYCE</div>
          <div class="meta">AUTO-RECOVER</div>
        </div>
        <div class="body">
          <div class="micro" style="opacity:.78;line-height:1.35">
            - “they’re not *screaming*, it’s like… a chorus through a radio telescope.”<br>
            - “pattern repeats when you run the tape backwards.”<br>
            - “Novex would bury this. Not their signal.”<br>
            - “Cassini’s Compass flags it: same spacing as the old sky.”<br>
            - “if this is what i think it is, we’re inside it.”<br>
            <br>
            # USER_bryce CALLED: match(THRALL_WAIL, Cℓ_LIBRARY)<br>
            # USER_bryce RESULT: <b>NON-ZERO CORRELATION</b><br>
            # USER_bryce STATUS: <b>NO EGRESS</b><br>
          </div>
        </div>
      </section>

    </div>
  </div>
</div>

<script>
/*
  Synthetic “CMB-like” power spectrum:
  - sum of gaussian peaks (acoustic harmonics)
  - baseline tilt
  - Silk damping at high-l
  - tau (optical depth) suppresses small scales more strongly

  This matches the qualitative description in Hu & White:
  peaks + damping, plus reionization scattering implications (τ). 2
*/
(() => {
  const path = document.getElementById("clPath");
  const tauEl = document.getElementById("tauVal");

  const W = 520, H = 240;
  const plot = { x0:14, y0:14, w:492, h:202 };

  // “l” domain and amplitude domain (arbitrary units for a prop)
  const lMin = 2, lMax = 1200;
  const n = 260;

  function gauss(x, mu, sig){ const z = (x-mu)/sig; return Math.exp(-0.5*z*z); }

  // Base peaks roughly in the right places (visual, not a CAMB output)
  const peaks = [
    { mu: 220,  sig: 55,  amp: 1.00 },
    { mu: 540,  sig: 70,  amp: 0.62 },
    { mu: 800,  sig: 85,  amp: 0.42 },
    { mu: 1050, sig: 95,  amp: 0.28 },
  ];

  function modelCl(l, tau){
    // baseline tilt (gently decreases with l)
    const tilt = 0.18 + 0.85 * Math.pow(l/220, -0.25);

    // acoustic peaks
    let p = 0;
    for(const pk of peaks) p += pk.amp * gauss(l, pk.mu, pk.sig);

    // “Silk damping” (kills small scales / high-l)
    const ld = 1050;         // damping scale
    const silk = Math.exp(-Math.pow(l/ld, 1.35));

    // tau suppression: strong at high-l, weak at low-l
    const tauCut = 130; // transition multipole
    const smallScaleWeight = 1 - Math.exp(-Math.pow(l/tauCut, 1.2));
    const tauSupp = Math.exp(-2 * tau * smallScaleWeight);

    // combine
    return (tilt + 1.15*p) * silk * tauSupp;
  }

  function makePath(tau){
    let d = "";
    // find max for scaling
    let maxV = 0;
    const vals = [];
    for(let i=0;i<n;i++){
      const t = i/(n-1);
      const l = lMin + t*(lMax - lMin);
      const v = modelCl(l, tau);
      vals.push({t,l,v});
      if(v>maxV) maxV=v;
    }
    maxV *= 1.06;

    for(let i=0;i<vals.length;i++){
      const {t,v} = vals[i];
      const x = plot.x0 + t*plot.w;
      const y = plot.y0 + plot.h * (1 - (v/maxV));
      d += (i===0 ? `M ${x.toFixed(2)} ${y.toFixed(2)}` : ` L ${x.toFixed(2)} ${y.toFixed(2)}`);
    }
    return d;
  }

  // Animate tau between two plausible values
  let t0 = performance.now();
  function tick(now){
    const dt = (now - t0) / 1000;
    // smooth oscillation 0..1
    const u = 0.5 - 0.5*Math.cos(dt * (Math.PI*2/6.5)); // 6.5s cycle
    const tau = 0.03 + u * (0.18 - 0.03); // 0.03..0.18

    path.setAttribute("d", makePath(tau));
    tauEl.textContent = tau.toFixed(2);

    requestAnimationFrame(tick);
  }
  requestAnimationFrame(tick);
})();
</script>
</body>
</html>
